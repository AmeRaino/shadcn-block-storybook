{
  "name": "form-float-label-input",
  "type": "registry:block",
  "registryDependencies": [
    "form",
    "input"
  ],
  "files": [
    {
      "type": "registry:block",
      "content": "\"use client\";\r\n\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\r\nimport { Control, FieldPath, FieldValues } from \"react-hook-form\";\r\n\r\nimport {\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { ComponentProps, useId } from \"react\";\r\nimport { MyInput } from \"../base-component/my-input\";\r\n\r\ntype TFormFloatLabelInput<\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TFieldName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n> = {\r\n  required?: boolean;\r\n  float?: boolean;\r\n  name: TFieldName;\r\n  control: Control<TFieldValues>;\r\n  label?: string | React.ReactNode;\r\n  formLabelProps?: React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>;\r\n  onChangeCallBack?: (e: React.ChangeEvent<HTMLInputElement>) => void | string;\r\n} & Omit<ComponentProps<typeof MyInput>, \"onChange\" | \"value\">;\r\n\r\nexport const FormFloatLabelInput = <\r\n  TFieldValues extends FieldValues = FieldValues,\r\n  TFieldName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\r\n>({\r\n  required,\r\n  float = false,\r\n  id,\r\n  name,\r\n  control,\r\n  label,\r\n  placeholder = \"\",\r\n  formLabelProps,\r\n  onChangeCallBack,\r\n  ...props\r\n}: TFormFloatLabelInput<TFieldValues, TFieldName>) => {\r\n  const { className: formLabelClassName, ...restFormLabelProps } =\r\n    formLabelProps || {};\r\n\r\n  const { className: formInputClassName, ...restFormInputProps } = props || {};\r\n\r\n  const uniqueId = useId();\r\n  const formatPlaceholder = placeholder || (!float ? \"\" : undefined);\r\n\r\n  return (\r\n    <FormField\r\n      control={control}\r\n      name={name}\r\n      render={({ field: { onChange, ...fieldProps } }) => (\r\n        <FormItem>\r\n          <FormControl>\r\n            <MyInput\r\n              {...fieldProps}\r\n              {...restFormInputProps}\r\n              className={cn(\r\n                !float && \"placeholder:opacity-0 focus:placeholder:opacity-100\",\r\n                formInputClassName\r\n              )}\r\n              id={id || uniqueId}\r\n              placeholder={formatPlaceholder}\r\n              onChange={(e) => {\r\n                if (typeof onChangeCallBack !== \"function\") {\r\n                  onChange(e);\r\n                  return;\r\n                }\r\n\r\n                const formatValue = onChangeCallBack(e);\r\n                onChange(typeof formatValue === \"string\" ? formatValue : e);\r\n              }}\r\n            >\r\n              {label && (\r\n                <FormLabel\r\n                  className={cn(\r\n                    \"absolute start-2 top-2 z-10 origin-[0] -translate-y-4 scale-75 transform bg-background px-2 text-sm text-gray-500 duration-300\",\r\n                    !float && [\r\n                      \"peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100\",\r\n                      \"peer-focus:top-2 peer-focus:-translate-y-5 peer-focus:scale-75 peer-focus:px-2\",\r\n                    ],\r\n                    float && \"top-2 -translate-y-5 scale-75 px-2\",\r\n                    \"dark:bg-background rtl:peer-focus:left-auto rtl:peer-focus:translate-x-1/4 cursor-text\",\r\n                    formLabelClassName\r\n                  )}\r\n                  htmlFor={id || uniqueId}\r\n                  {...restFormLabelProps}\r\n                >\r\n                  {label}\r\n                  {required && <span className=\"text-destructive\">*</span>}\r\n                </FormLabel>\r\n              )}\r\n            </MyInput>\r\n          </FormControl>\r\n          <FormMessage />\r\n        </FormItem>\r\n      )}\r\n    />\r\n  );\r\n};\r\n",
      "path": "block/form/form-float-label-input.tsx",
      "target": "components/block/form/form-float-label-input.tsx"
    },
    {
      "type": "registry:block",
      "content": "import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { useId } from \"react\";\r\n\r\ntype TProps = {\r\n  prefix?: React.ReactNode;\r\n  suffix?: React.ReactNode;\r\n  containerProps?: React.ComponentProps<\"div\">;\r\n} & Omit<React.ComponentProps<typeof Input>, \"prefix\" | \"ref\">;\r\n\r\nfunction MyInput({\r\n  className,\r\n  suffix,\r\n  prefix,\r\n  children,\r\n  containerProps,\r\n  ...props\r\n}: TProps) {\r\n  const { className: containerClassName, ...restContainerProps } =\r\n    containerProps || {};\r\n\r\n  return (\r\n    <div className={cn(\"relative\", containerClassName)} {...restContainerProps}>\r\n      <Input\r\n        className={cn(\r\n          \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive aria-invalid:text-destructive aria-invalid:bg-[#FEF2F2]\",\r\n          \"peer\",\r\n          prefix && \"ps-9\",\r\n          suffix && \"pe-9\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n      {prefix && (\r\n        <span className=\"[&>svg]:size-4 text-muted-foreground pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-sm peer-disabled:opacity-50\">\r\n          {prefix}\r\n        </span>\r\n      )}\r\n      {suffix && (\r\n        <span className=\"[&>svg]:size-4 text-muted-foreground pointer-events-none absolute inset-y-0 end-0 flex items-center justify-center pe-3 text-sm peer-disabled:opacity-50\">\r\n          {suffix}\r\n        </span>\r\n      )}\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MyFloatingLabel = ({\r\n  className,\r\n  float = false,\r\n  ...props\r\n}: React.ComponentProps<typeof Label> & { float?: boolean }) => {\r\n  return (\r\n    <Label\r\n      className={cn(\r\n        \"absolute start-2 top-2 z-10 origin-[0] -translate-y-4 scale-75 transform bg-background px-2 text-sm text-gray-500 duration-300\",\r\n        !float && [\r\n          \"peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100\",\r\n          \"peer-focus:top-2 peer-focus:-translate-y-5 peer-focus:scale-75 peer-focus:px-2\",\r\n        ],\r\n        float && \"top-2 -translate-y-5 scale-75 px-2\",\r\n        \"dark:bg-background rtl:peer-focus:left-auto rtl:peer-focus:translate-x-1/4 cursor-text\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\nMyFloatingLabel.displayName = \"MyFloatingLabel\";\r\n\r\nconst MyFloatingLabelInput = ({\r\n  label,\r\n  placeholder = \"\",\r\n  float = false,\r\n  ...props\r\n}: React.ComponentProps<typeof Input> & {\r\n  label?: string | React.ReactNode;\r\n  float?: boolean;\r\n}) => {\r\n  const id = useId();\r\n  const { className: inputClassName, ...restInputProps } = props || {};\r\n\r\n  return (\r\n    <MyInput\r\n      id={id}\r\n      placeholder={placeholder}\r\n      className={cn(\r\n        !float && \"placeholder:opacity-0 focus:placeholder:opacity-100\",\r\n        inputClassName\r\n      )}\r\n      {...restInputProps}\r\n    >\r\n      <MyFloatingLabel htmlFor={id} float={float}>\r\n        {label}\r\n      </MyFloatingLabel>\r\n    </MyInput>\r\n  );\r\n};\r\nMyFloatingLabelInput.displayName = \"MyFloatingLabelInput\";\r\n\r\nexport { MyInput, MyFloatingLabel, MyFloatingLabelInput };\r\n",
      "path": "block/base-component/my-input.tsx",
      "target": "components/block/base-component/my-input.tsx"
    }
  ]
}